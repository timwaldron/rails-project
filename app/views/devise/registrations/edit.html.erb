<h2>Edit Details</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>

  <%= render "devise/shared/error_messages", resource: resource %>
  <div class = "edit-form">  
    <div class="field form-group">
      <%= f.label :username, for: "username" %>
      <%= f.text_field :username, disabled: true, class: "form-control", id: "username"%>
      <small class="form-text text-muted form-inline">Currently, you cannot change your username.</small>
    </div>

    <div class="field form-group ">
      <%= f.label :email, for: "email"%><br />
      <%= f.email_field :email, class: "form-control", id: "email"%>
    </div>

    <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
      <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
    <% end %>

    <div class="field form-group">
      <%= f.label :password, for: "pwd" %> <i>(leave blank if you don't want to change it)</i>
      <%= f.password_field :password, class: "form-control", id: "pwd" %>
      <% if @minimum_password_length %>
        <small class="form-text text-muted form-inline"><%= @minimum_password_length %> characters minimum</small>
      <% end %>
    </div>

    <div class="field form-group">
      <%= f.label :password_confirmation, for: "pwd" %>
      <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control", id: "pwd" %>
    </div>

    <div class="field form-group">
      <%= f.label :first_name, for: "first-name" %>
      <%= f.text_field :first_name, class: "form-control", id: "first-name" %>
    </div>
      
    <div class="field form-group">
      <%= f.label :last_name, for: "last-name" %>
      <%= f.text_field :last_name, class: "form-control", id: "last-name" %>
    </div>

    <div class="field form-group">
      <%= f.label :street_number, for: "street-no" %>
      <%= f.text_field :street_number, class: "form-control", id: "street-no" %>
    </div>

    <div class="field form-group">
      <%= f.label :street_name, for: "street-name" %>
      <%= f.text_field :street_name, class: "form-control", id: "street-name" %>
    </div>
    
    <div class="field form-group">
      <%= f.label :suburb, for: "suburb" %>
      <%= f.text_field :suburb, class: "form-control", id: "suburb" %>
    </div>

    <div class="field form-group">
      <%= f.label :city, for: "city" %>
      <%= f.text_field :city, class: "form-control", id: "city" %>
    </div>
        
    <div class="field form-group">
      <%= f.label :postcode, for: "postcode" %> 
      <%= f.text_field :postcode, class: "form-control", id: "postcode" %>
    </div>


    <div class="field"> 
      <label for="state">State</label>
      <select name="state" class="custom-select form-control" >
        <% get_states_array().each do |state| %>
          <option value="<%= state %>"><%= state %></option>
        <% end %>
      </select> 
    </div>

    <div class="field">
      <%= f.label :date_of_birth %><br />
      <%= f.date_field :date_of_birth, class: "form-control", in: 1000..9999, step: 1 %>
    </div>
  </div>

  <div class="update-container">

    <div class="confirm-password-field form-group">
      <%= f.label :current_password, for: "current-password" %> 
      <%= f.password_field :current_password, class: "form-control", id: "current-password"  %>
      <small class="form-text text-muted">(we need your current password to confirm your changes)</small>
    </div>

    <div class="submit-button">
      <%= f.submit "Update", class: "btn btn-outline-success btn-lg btn-block" %>
    </div>
  </div>

  <div class="field">
    <h3>Cancel my account</h3>
    <p>Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete, class: "badge badge-primary" %></p>
  </div>
<% end %>